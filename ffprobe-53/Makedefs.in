# since this files is included by many Makefiles in differents directories,
# then it should use only absolute paths

SHELL = /bin/sh
VPATH = @srcdir@

package_name = @PACKAGE_NAME@
package_version = @PACKAGE_VERSION@

package_version_name = @PACKAGE_NAME@-@PACKAGE_VERSION@

subdirs = @subdirs@
abs_top_srcdir = @abs_top_srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = $(exec_prefix)/bin
infodir = $(prefix)/info
libdir = $(prefix)/lib
mandir = $(prefix)/share/man/man1

CC = @CC@
# CPPFLAGS = @CPPFLAGS@
CFLAGS = @CFLAGS@ -std=c99
LDFLAGS = @LDFLAGS@

# these libs are passed from the configure script
LIBS = @LIBS@
# these are added using pkg-config
EXTRA_LIBS=$(shell pkg-config --libs libavformat)

INSTALL = @INSTALL@
MKINSTALLDIRS= @abs_top_srcdir@/mkinstalldirs

# implicit rules
%.o : %.c
	$(CC) -c $(CFLAGS) -o $@ $<

% : %.c
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $< $(LIBS) $(EXTRA_LIBS)
